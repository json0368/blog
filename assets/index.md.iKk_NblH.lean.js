import{A as Z}from"./chunks/ArticleWaterfallList.qWHNwBHQ.js";import{a as H,I as ee,b as te,c as ae,d as se,p as F,e as oe,f as le}from"./chunks/theme.BwlHciAm.js";import{d as Q,aO as ne,aP as ie,h as b,a2 as re,aQ as U,f as A,aR as ce,j as G,aS as ue,w as J,I as de,B as fe,a as D,o as C,b as c,u as m,C as pe,H as me,D as R,G as z,E as B,F as _e,X as ve,Q as X,P as he,e as O,_ as K,M as V,av as xe,aT as be,aU as W,n as q,A as N}from"./chunks/framework.PYX7eaCS.js";function j(t){const{ctx:e,width:a,height:i,strokeStyle:o,backgroundColor:l,offset:_,amplitudeRatio:p=.06,periodMultiplier:g=.008,phaseShift:s=Math.PI/4,waveCount:h=5,lineWidth:n=2,verticalPosition:x=.5}=t;e.clearRect(0,0,a,i),e.fillStyle=l,e.fillRect(0,0,a,i),e.translate(0,i*x),e.strokeStyle=o,e.lineWidth=n;const P=i*p;for(let v=1;v<=h;v++){e.beginPath();for(let f=0;f<=a;f++){const u=P*Math.sin(f*g+_+s*v);f===0?e.moveTo(f,u):e.lineTo(f,u)}e.stroke()}e.setTransform(1,0,0,1,0,0)}function E(t,e){const a=window.devicePixelRatio||1,i=t.getBoundingClientRect();t.width=i.width*a,t.height=e*a;const o=t.getContext("2d");o&&o.scale(a,a)}function ge(t,e,a,i=!1){let o=0,l=null;const _=()=>{const n=t.getContext("2d");n&&j({...e,ctx:n,width:t.width,height:t.height,offset:0})},p=()=>{const n=t.getContext("2d");n&&(o-=.003,j({...e,ctx:n,width:t.width,height:t.height,offset:o}),l=requestAnimationFrame(p))};return{start:()=>{i?(E(t,a),_()):(E(t,a),p())},stop:()=>{l!==null&&(cancelAnimationFrame(l),l=null)},resize:n=>{E(t,n),i&&_()}}}const ye={"aria-label":"用户信息",class:"ely-profile w-full relative flex flex-col items-center absolute top-0 left-0 select-none"},ke={class:"ely-profile__avatar-wrapper p-[3px] rounded-full border-solid border-2 border-[var(--color-accent-secondary)]"},we=["src","alt"],Ce={class:"flex flex-col items-center gap-1"},Pe={class:"ely-profile__name text-2xl font-bold m-0 text-primary"},Se={class:"ely-profile__bio text-tertiary"},Te={class:"flex items-center gap-2"},Ae=["href"],De=Q({__name:"ElyProfile",props:{accent:{},background:{},name:{},avatar:{},bio:{},email:{},social:{}},setup(t){const e=t,a=ne(),i=ie(),o=b(),{height:l}=re(),{height:_}=U(o),p=A(()=>e.name[i.value[0]]||e.name["en-US"]||e.name["zh-CN"]),g=A(()=>_.value*.3-56);let s=null;const h=()=>({strokeStyle:e.accent??"var(--color-accent)",backgroundColor:e.background??"transparent",verticalPosition:.3,amplitudeRatio:.02,periodMultiplier:.008,waveCount:5});function n(){o.value&&(s==null||s.stop(),s=ge(o.value,h(),l.value,a.value==="reduce"),s.start())}const x=b(!1),{stop:P}=ce(o,([{isIntersecting:u}])=>{x.value=u,u?n():s==null||s.stop()},{threshold:0,rootMargin:"50px"}),v=ue(u=>{x.value&&(s==null||s.resize(u))},300);G(()=>{window.addEventListener("resize",()=>{v(l.value)})}),J(()=>[e.accent,e.background],()=>{x.value&&n()}),de(()=>{P(),s==null||s.stop()});function f(){window.scrollTo({top:l.value,behavior:"smooth"})}return(u,y)=>{const r=fe("ClientOnly"),d=ee,S=H,k=ae,T=te;return C(),D("header",ye,[c("canvas",{"aria-hidden":"true",class:"ely-profile__background w-full",ref_key:"backgroundCanvas",ref:o},null,512),c("div",{class:"ely-profile__content flex flex-col items-center absolute gap-4",style:O({top:g.value+"px"})},[c("div",ke,[c("img",{class:"ely-profile__avatar-img w-[100px] h-[100px] rounded-full",src:e.avatar,alt:p.value},null,8,we)]),c("div",Ce,[m(r,null,{default:R(()=>[c("h1",Pe,z(p.value),1)]),_:1}),c("p",Se,z(e.bio),1)]),m(S,{wide:"",as:"link",href:`mailto:${e.email}`,"aria-label":"发送邮件",style:{maxWidth:"240px"},bold:""},{default:R(()=>[c("span",Te,[m(d,{"stroke-width":6}),y[0]||(y[0]=B("Contact ",-1))])]),_:1},8,["href"]),e.social&&Array.isArray(e.social)&&e.social.length>0?(C(),pe(k,{key:0,size:0,divider:"・",class:"text-sm text-primary font-normal"},{default:R(()=>[(C(!0),D(_e,null,ve(e.social,w=>(C(),D("a",{class:"hover:text-[var(--color-accent)] transition-colors duration-300",key:w.alias,href:X(he)(w.link),target:"_blank"},z(w.alias),9,Ae))),128))]),_:1})):me("",!0)],4),c("div",{class:"ely-profile__scroll-indicator absolute bottom-4 flex flex-col items-center gap-1 text-[var(--color-accent)] cursor-pointer","aria-hidden":"true",role:"button",onClick:f},[m(T,{class:"ely-profile__scroll-indicator-icon","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"bevel",size:36,style:O({stroke:e.accent})},null,8,["style"]),y[1]||(y[1]=c("span",{class:"ely-profile__scroll-indicator-text text-sm"},"SCROLL",-1))])])}}}),Re=K(De,[["__scopeId","data-v-05c7e1f2"]]),We={class:"w-[100dvw] flex flex-col items-center"},ze={class:"w-full max-w-[1272px] flex flex-col pl-16 xs:pl-10 xs:pr-10 pr-16 mt-10 mb-20"},Ee={class:"flex"},Be=Q({__name:"HomePage",setup(t){const{theme:e}=V(),a=A(()=>{if(e.value.userProfile){const{name:r,avatar:d,bio:S,email:k,social:T}=e.value.userProfile||{};return{name:r,avatar:d,bio:S,email:k,social:T}}return null}),i=b([]),o=b([]),l=b("breves"),_=A(()=>l.value==="breves"?i.value:o.value),p=xe("articleTitleRef"),{isDark:g}=V(),s=A(()=>be().value||g.value),h=b(W("--color-accent").value),n=b(W("--color-accent-quaternary").value),{width:x}=U(p);function P(){return Promise.all([F.getAllPosts(oe).then(r=>{i.value=r}),F.getAllPosts(le).then(r=>{o.value=r})])}function v(){h.value=W("--color-accent").value,n.value=W("--color-accent-quaternary").value}J(()=>s.value,r=>{N(()=>{v(),f()})});function f(){N(()=>{const r=document.documentElement;s.value?r.classList.add("dark"):r.classList.remove("dark"),v()})}function u(r){l.value=r}function y(){P().then(()=>{u("breves"),f()})}return G(()=>{y()}),(r,d)=>{var w,I,L,M,$;const S=Re,k=H,T=Z;return C(),D("div",We,[m(S,{name:(w=a.value)==null?void 0:w.name,avatar:(I=a.value)==null?void 0:I.avatar,bio:(L=a.value)==null?void 0:L.bio,accent:h.value,background:n.value,email:(M=a.value)==null?void 0:M.email,social:($=a.value)==null?void 0:$.social},null,8,["name","avatar","bio","accent","background","email","social"]),c("main",ze,[c("h1",{class:"mb-10 flex flex-nowrap items-end justify-between overflow-x-hidden",ref_key:"articleTitleRef",ref:p},[c("div",Ee,[m(k,{text:"",bold:"",class:q(["home-title",{active:l.value==="breves"}]),onClick:d[0]||(d[0]=Y=>u("breves"))},{default:R(()=>d[2]||(d[2]=[B("Breves",-1)])),_:1,__:[2]},8,["class"]),m(k,{text:"",bold:"",class:q(["home-title",{active:l.value==="quavers"}]),onClick:d[1]||(d[1]=Y=>u("quavers"))},{default:R(()=>d[3]||(d[3]=[B("Quavers",-1)])),_:1,__:[3]},8,["class"])]),m(se)],512),m(T,{posts:_.value,width:X(x)},null,8,["posts","width"])])])}}}),Ie=K(Be,[["__scopeId","data-v-752d5a54"]]),Oe=JSON.parse('{"title":"首页","description":"","frontmatter":{"layout":"page","lastUpdated":false,"sidebar":false,"navbar":false,"prev":false,"next":false,"title":"首页","publish":false,"comment":false,"gitChangelog":false},"headers":[],"relativePath":"index.md","filePath":"index.md"}'),Le={name:"index.md"},Ve=Object.assign(Le,{setup(t){return(e,a)=>(C(),D("div",null,[m(Ie)]))}});export{Oe as __pageData,Ve as default};
